**ЁЯЪи MANDATORY: ALWAYS read `../workflows/.cursorrules-figma-common` FIRST** - **NO EXCEPTIONS**

**ЁЯЪи MANDATORY: DISPLAY COMPONENT ANALYSIS TABLE - REQUIRED FORMAT:**

```
**Component Analysis:**

| # | Component Name | Type | Complexity | Interactive Elements |
|---|----------------|------|------------|---------------------|
| 1 | [Component Name 1] | [Type] | [Complexity] | [Interactive Elements] |
| 2 | [Component Name 2] | [Type] | [Complexity] | [Interactive Elements] |
| 3 | [Component Name 3] | [Type] | [Complexity] | [Interactive Elements] |
| ... | ... | ... | ... | ... |
| X | [Component Name X] | [Type] | [Complexity] | [Interactive Elements] |


**ЁЯЪи MANDATORY: PAGE DESIGN DETECTION RULES:**
- **ЁЯЪи MANDATORY: Look for multiple breakpoints** - Desktop, Mobile, Tablet frames in same file
- **ЁЯЪи MANDATORY: Identify page-level components** - Header, Footer, Hero, Content sections
- **ЁЯЪи MANDATORY: Check for component instances** - Multiple instances of same component type
- **ЁЯЪи MANDATORY: Analyze component hierarchy** - Parent-child relationships in page structure
- **ЁЯЪи MANDATORY: Separate by functionality** - Navigation, Content, Interactive, Layout components

**ЁЯЪи CRITICAL: This format MUST be used for ALL Figma analysis presentations - NO EXCEPTIONS**
**ЁЯЪи CRITICAL: ALWAYS show Existing (0), Modified (0), New (X) for consistency - NO EXCEPTIONS**

**ЁЯЪи MANDATORY: ALWAYS SHOW OPTIONS AFTER ANALYSIS - NO EXCEPTIONS**
**тЪая╕П CRITICAL: After showing the analysis format, ALWAYS immediately show these options:**

```
### 1. **Create Component Definition** - Generate components.json file
### 2. **Create Components** - Generate AEM component files
### 3. **Modify Analysis** - Adjust component details
### 4. **Cancel** - Return to main menu
```

**ЁЯЪи CRITICAL: ALL TECHNICAL DETAILS MARKED AS (AI Reference Only) - NO EXCEPTIONS**

**ЁЯЪи CRITICAL: THIS STEP DETERMINES COMPONENT STRUCTURE - NO EXCEPTIONS**

## ЁЯЪи CRITICAL: STEP 2 - AEM COMPONENT MAPPING (AI Reference Only)

**тЪая╕П CRITICAL: MAP FIGMA COMPONENTS TO AEM COMPONENTS:**
1. **ЁЯЪи MANDATORY: Check existing AEM project components** - Scan existing component directory
2. **ЁЯЪи MANDATORY: Compare with existing components** - Match visual similarity to existing AEM components
3. **ЁЯЪи MANDATORY: Determine component naming** - Create AEM-compliant component names
4. **ЁЯЪи MANDATORY: Map component hierarchy** - Define parent-child component relationships
5. **ЁЯЪи MANDATORY: Identify component dependencies** - Find components that depend on others
6. **ЁЯЪи MANDATORY: Plan component structure** - Define HTL, Sling Model, dialog requirements
7. **ЁЯЪи MANDATORY: Map design system integration** - Plan how to use extracted design tokens